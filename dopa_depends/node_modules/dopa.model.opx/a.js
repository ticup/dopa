require("opa-js-runtime-cps");
var __opa_opabsl = require("opabsl.opp");

require("stdlib.database.mongo.opx");
var ___server_ast_fa5e194d = BslCps_topwait(___register_server_code_ec6de8cf({package_:"dopa.model",adhoc_e:[{td:[],rd:[],r:[false],id:["`_v1_broadcast_dopa.model`","`_v1_register_message_callback_dopa.model`"],i:{some:"`_v1_Model_dopa.model`"},d:js_void,c:{none:js_void}},{td:[],rd:[],r:[false],id:["`_v1_room_dopa.model`","`__t_dopa.model`","`_v1_add_callback_stdlib.core.rpc.core`"],i:{some:"`_v1_register_message_callback_dopa.model`"},d:js_void,c:{none:js_void}},{td:[],rd:[],r:[false],id:["`_v1_room_dopa.model`","`__t_dopa.model`","`_v6_broadcast_stdlib.core.rpc.core`"],i:{some:"`_v1_broadcast_dopa.model`"},d:js_void,c:{none:js_void}},{td:[],rd:[],r:[true],id:["`__t_dopa.model`","`_v2_cloud_stdlib.core.rpc.core`"],i:{some:"`_v1_room_dopa.model`"},d:js_void,c:{none:js_void}},{td:[],rd:[],r:[true],id:["`_v1_DbMongo_open_stdlib.database.mongo`"],i:{some:"`_v1_dopa_dopa.model`"},d:js_void,c:{none:js_void}},{td:[],rd:[],r:[false],id:[],i:{some:"typedef_message"},d:{t:"\"message\""},c:{none:js_void}},{td:["\"message\""],rd:[],r:[false],id:[],i:{some:"`__t_dopa.model`"},d:js_void,c:{none:js_void}}]},cont(BslCps_topk)));
var ___register_js_ast_fa5e194d = BslCps_topwait(___register_js_code_ec6de8cf({ast:[{ast:[{d:js_void,c:[{v:""},{s:["___new_author_fa5e194d"]},{v:";\n"}],r:[true],i:{i:"___toplevel_statement_fa5e194d"}},{d:js_void,c:[{v:"var "},{i:"_s5277098252"},{v:" = {hd:{label:\"author\",ty:"},{i:"_sS"},{v:"},tl:"},{i:"_s77981a94a9"},{v:"};\n"}],r:[false],i:{k:"_s5277098252"}},{d:js_void,c:[{v:"var "},{i:"_s69e8587a9a"},{v:" = {TyRecord_row:"},{i:"_s5277098252"},{v:"};\n"}],r:[false],i:{k:"_s69e8587a9a"}},{d:js_void,c:[{v:"var "},{i:"_s76ef4b0b5d"},{v:" = {quantifier:"},{i:"_se1e0a08bb9"},{v:",body:"},{i:"_s69e8587a9a"},{v:"};\n"}],r:[false],i:{k:"_s76ef4b0b5d"}},{d:{t:"\"message\""},c:[{v:"var "},{i:"_stypedef_message"},{v:" = "},{i:"BslValue_Tsc_add"},{v:"("},{td:"\"message\""},{v:","},{i:"_s76ef4b0b5d"},{v:");\n"}],r:[false],i:{k:"_stypedef_message"}},{d:js_void,c:[{v:"function "},{i:"___new_author_fa5e194d"},{v:"(){return "},{i:"BslNumber_Random_string"},{v:"(8);}\n"}],r:[false],i:{i:"___new_author_fa5e194d"}}]}]},cont(BslCps_topk)));
global.___t_fa5e194d = {TyName_ident:"message",TyName_args:__v10_t_ec6de8cf};
global.__v1_t_fa5e194d = {tl:__v261_t_2b6d75d2,hd:{ty:__v22_t_ec6de8cf,label:"author"}};
global.__v2_t_fa5e194d = {TyRecord_row:__v1_t_fa5e194d};
global.__v3_t_fa5e194d = {body:__v2_t_fa5e194d,quantifier:__v14_t_ec6de8cf};
var _stypedef_message = BslValue_Tsc_add("message",__v3_t_fa5e194d);
global.___dopa_fa5e194d = BslCps_topwait(__v1_open_0f7af08e("dopa",{none:js_void},{none:js_void},cont(BslCps_topk)));
var ___room_fa5e194d = BslCps_topwait(__v1_cloud_f2f00d5f(___t_fa5e194d)("room",cont(BslCps_topk)));
global.___broadcast_fa5e194d = function ___broadcast_fa5e194d(a,b){return ___broadcast_f2f00d5f(___t_fa5e194d)(a,___room_fa5e194d,b);};
global.___register_message_callback_fa5e194d = function ___register_message_callback_fa5e194d(a,b){return ___add_callback_f2f00d5f(___t_fa5e194d)(a,___room_fa5e194d,b);};
global.___new_author_skip_fa5e194d = function ___new_author_skip_fa5e194d(){return BslNumber_Random_string(8);};
global.___new_author_fa5e194d = function ___new_author_fa5e194d(a){return return_tc(a,BslNumber_Random_string(8));};
___new_author_fa5e194d.distant = true;
global.___Model_fa5e194d = {new_author:___new_author_fa5e194d,register_message_callback:___register_message_callback_fa5e194d,broadcast:___broadcast_fa5e194d};

